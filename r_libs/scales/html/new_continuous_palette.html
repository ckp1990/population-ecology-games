<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Constructors for palettes</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for new_continuous_palette {scales}"><tr><td>new_continuous_palette {scales}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Constructors for palettes</h2>

<h3>Description</h3>

<p>These constructor functions attach metadata to palette functions. This
metadata can be used in testing or coercion.
</p>


<h3>Usage</h3>

<pre>
new_continuous_palette(fun, type, na_safe = NA)

new_discrete_palette(fun, type, nlevels = NA)

is_pal(x)

is_continuous_pal(x)

is_discrete_pal(x)

is_colour_pal(x)

is_numeric_pal(x)

palette_nlevels(pal)

palette_na_safe(pal)

palette_type(pal)

as_discrete_pal(x, ...)

as_continuous_pal(x, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>fun</code></td>
<td>
<p>A function to serve as a palette. For continuous palettes, these
typically take vectors of numeric values between (0, 1) and return a
vector of equal length. For discrete palettes, these typically take a
scalar integer and return a vector of that length.</p>
</td></tr>
<tr valign="top"><td><code>type</code></td>
<td>
<p>A string giving the type of return values. Some example strings
include <code>"colour"</code>, <code>"numeric"</code>, <code>"linetype"</code> or <code>"shape"</code>.</p>
</td></tr>
<tr valign="top"><td><code>na_safe</code></td>
<td>
<p>A boolean indicating whether <code>NA</code> values are translated to
palette values (<code>TRUE</code>) or are kept as <code>NA</code> (<code>FALSE</code>). Applies to
continuous palettes.</p>
</td></tr>
<tr valign="top"><td><code>nlevels</code></td>
<td>
<p>An integer giving the number of distinct palette values
that can be returned by the discrete palette.</p>
</td></tr>
<tr valign="top"><td><code>x</code></td>
<td>
<p>An object to test or coerce.</p>
</td></tr>
<tr valign="top"><td><code>pal</code></td>
<td>
<p>A palette to retrieve properties from.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Additional arguments. Currently not in use.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>new_continuous_palette()</code>, <code>new_discret_palette()</code>, <code>as_discrete_pal()</code>
and <code>as_continuous_pal()</code>: a function of class <code>pal_continuous</code> or <code>pal_discrete</code>.
For <code>is_pal()</code>, <code>is_continuous_pal()</code>, <code>is_discret_pal()</code>, <code>is_colour_pal()</code>,
or <code>is_numeric_pal()</code>: a logical value of length 1.
For <code>palette_nlevels()</code> a single integer. For <code>palette_na_safe()</code> a boolean.
For <code>palette_type()</code> a string.
</p>


<h3>See Also</h3>

<p><a href="../../scales/help/palette-recommendations.html">palette recommendations</a>
</p>


<h3>Examples</h3>

<pre>
# Creating a new discrete palette
new_discrete_palette(
  fun = grDevices::terrain.colors,
  type = "colour", nlevels = 255
)

# Creating a new continuous palette
new_continuous_palette(
  fun = function(x) rescale(x, to = c(1, 0)),
  type = "numeric", na_safe = FALSE
)

# Testing palette properties
is_continuous_pal(pal_seq_gradient())
is_discrete_pal(pal_viridis())
is_numeric_pal(pal_area())
is_colour_pal(pal_manual(c("red", "green")))
is_pal(transform_log10())

# Extracting properties
palette_nlevels(pal_viridis())
palette_na_safe(colour_ramp(c("red", "green"), na.color = "grey50"))
palette_type(pal_shape())

# Switching discrete to continuous
pal &lt;- as_continuous_pal(pal_viridis())
show_col(pal(c(0, 0.1, 0.2, 0.4, 1)))

# Switching continuous to discrete
pal &lt;- as_discrete_pal(pal_div_gradient())
show_col(pal(9))
</pre>

<hr /><div style="text-align: center;">[Package <em>scales</em> version 1.4.0 <a href="00Index.html">Index</a>]</div>
</body></html>
